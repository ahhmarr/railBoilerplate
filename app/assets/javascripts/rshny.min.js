/*
Rshny.js
===========
A minimilistic lightBox 
version		:0.0.1
date		:2 Feb 2014
author		: @ahhmarr
*/
var lightBox;
lightBox=function(){
	var thi=this;
	var current;
	this.show = function(th,cr)
	{
		current=cr;
		if(!$(".black_overlay").length)
		{
			$("body").append("<div class=\"black_overlay\"><span class=\"close_overlay\">&times;</span></div>");
		}
		if(!$(".content_overlay").length)
		{
			$("body").append("<div class=\"content_overlay\"></div>");

		}
		$(".content_overlay").html(th);
		$(".black_overlay,.content_overlay").fadeIn("slow");
		$(".content_overlay").children(":first").select();
		$(".close_overlay,.black_overlay").click(this.hide);
		$(".black_overlay,.content_overlay").keydown(this.keyBind);
		return thi;
	};
	this.hide = function()
	{
		$(".black_overlay,.content_overlay").fadeOut("slow");
		thi.callback();
	};
	this.keyBind=function(e)
	{
		var code = e.keyCode || e.which;
		if(code == 27)
			{
				thi.hide();
			}
	};
	this.callback=function()
	{
		$(current).trigger("blur");
	};
	thi.escapeKeys= [13,27];
	return thi;
};
